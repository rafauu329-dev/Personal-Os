/* =========================================
   1. VARIABLES (THEME: DEEP RETRO BRUTALISM)
   ========================================= */
:root {
    /* Backgrounds */
    --bg-main: #e1b12c;
    --bg-surface: #fdfbf7;
    --bg-soft: #efefef;
    --app-height: 100vh;

    /* The Deep Pop Palette */
    --color-purple: #9b59b6;
    --color-pink: #d279a6;
    --color-blue: #5481b8;
    --color-green: #599e68;
    --color-orange: #d35400;
    --color-red: #c0392b;
    --color-yellow: #f1c40f;

    /* Borders & Lines */
    --border-color: #121212;
    --border-width: 2.5px;
    --border-std: var(--border-width) solid var(--border-color);

    /* Shadows */
    --shadow-hard: 5px 5px 0px var(--border-color);
    --shadow-hover: 8px 8px 0px var(--border-color);
    --shadow-active: 0px 0px 0px var(--border-color);

    /* Text */
    --text-main: #121212;
    --text-muted: #585858;
    --text-light: #ffffff;

    /* Dimensions */
    --sidebar-width: 260px;
    --header-height: 80px;
    --radius-main: 10px;
    --space-md: 16px;
    --space-lg: 24px;

    /* Typography */
    --font-main: "Chakra Petch", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* =========================================
   2. RESET & BASE
   ========================================= */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-main);
    background-color: var(--bg-main);
    color: var(--text-main);
    height: 100vh;
    overflow: hidden;
    background-image: radial-gradient(rgba(0, 0, 0, 0.1) 1.5px, transparent 1.5px);
    background-size: 20px 20px;
    height: 100vh; /* Fallback */
    height: var(--app-height);
}

::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    background: var(--bg-main);
    border-left: var(--border-std);
}

::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border: 2px solid var(--bg-main);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
}

/* =========================================
   3. UTILITIES
   ========================================= */

/* Flexbox Helpers */
.u-flex { display: flex; }
.u-flex-col { display: flex; flex-direction: column; }
.u-flex-center { display: flex; align-items: center; justify-content: center; }
.u-flex-between { display: flex; align-items: center; justify-content: space-between; }
.u-flex-align-center { display: flex; align-items: center; }
.u-flex-end { display: flex; justify-content: flex-end; }

.u-gap-xs { gap: 5px; }
.u-gap-sm { gap: 10px; }
.u-gap-md { gap: 15px; }
.u-gap-lg { gap: 20px; }

/* Spacing Helpers */
.u-mt-xs { margin-top: 5px; }
.u-mt-sm { margin-top: 10px; }
.u-mt-md { margin-top: 15px; }
.u-mt-lg { margin-top: 20px; }
.u-mt-auto { margin-top: auto; }

.u-mb-xs { margin-bottom: 5px; }
.u-mb-sm { margin-bottom: 10px; }
.u-mb-md { margin-bottom: 15px; }
.u-mb-lg { margin-bottom: 20px; }

.u-p-md { padding: 15px; }
.u-p-lg { padding: 20px; }
.u-p-sm { padding: 10px; }

/* Text Helpers */
.u-text-center { text-align: center; }
.u-text-right { text-align: right; }
.u-font-bold { font-weight: 700; }
.u-font-black { font-weight: 900; }
.u-text-sm { font-size: 0.8rem; }
.u-text-xs { font-size: 0.7rem; }
.u-text-lg { font-size: 1.2rem; }
.u-text-xl { font-size: 1.5rem; }
.u-text-2xl { font-size: 2rem; }
.u-text-muted { color: var(--text-muted); }
.u-text-white { color: #fff; }
.u-text-main { color: var(--text-main); }
.u-text-danger { color: var(--danger); }
.u-text-success { color: var(--success); }
.u-uppercase { text-transform: uppercase; }
.u-block { display: block; }
.u-w-full { width: 100%; }
.u-h-full { height: 100%; }
.u-cursor-pointer { cursor: pointer; }
.u-no-border { border: none; }
.u-bg-transparent { background: transparent; }

/* Theme Colors for Cards/Sections */
.bg-yellow { background-color: var(--color-yellow); }
.bg-dark { background-color: var(--text-main); color: #fff; }
.bg-soft { background-color: var(--bg-soft); }
.bg-white { background-color: #fff; }
.bg-green { background-color: var(--color-green); }
.bg-orange { background-color: var(--color-orange); }
.bg-purple { background-color: var(--color-purple); }
.bg-red { background-color: var(--color-red); }
.bg-blue { background-color: var(--color-blue); }
.bg-black { background-color: #121212 !important; color: #fff !important; }
.bg-black:hover { background-color: #333 !important; }

/* Specific Border Overrides */
.border-l-blue { border-left: 12px solid var(--color-blue) !important; }
.border-l-pink { border-left: 12px solid var(--color-pink) !important; }
.border-t-green { border-top: 8px solid var(--color-green) !important; }
.border-t-purple { border-top: 8px solid var(--color-purple) !important; }
.border-t-red { border-top: 8px solid var(--color-red) !important; }
.border-t-orange { border-top: 8px solid var(--color-orange) !important; }
.border-t-muted { border-top: 8px solid var(--text-muted) !important; }
.border-t-danger { border-top: 5px solid var(--danger) !important; }
.border-t-success { border-top: 5px solid var(--success) !important; }
.border-t-blue { border-top: 5px solid var(--color-blue) !important; }

/* =========================================
   4. LAYOUT & RESPONSIVE
   ========================================= */
.app-layout {
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    height: 100vh;
    width: 100vw;
    transition: grid-template-columns 0.3s ease;
}

.sidebar {
    background-color: #1a1a1a;
    border-right: var(--border-std);
    padding: var(--space-lg);
    display: flex;
    flex-direction: column;
    z-index: 20;
    overflow-y: auto;
    transition: transform 0.3s ease, width 0.3s ease;
    width: 100%;
}

.app-layout.desktop-collapsed {
    grid-template-columns: 0px 1fr;
}

.app-layout.desktop-collapsed .sidebar {
    transform: translateX(-100%);
    padding: 0;
    opacity: 0;
}

.main-content {
    display: flex;
    flex-direction: column;
    background: var(--bg-surface);
    margin: 15px;
    border-radius: 15px;
    border: var(--border-std);
    box-shadow: var(--shadow-hard);
    height: calc(100vh - 30px);
    width: auto;
    overflow: hidden;
    position: relative;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.app-layout.desktop-collapsed .main-content {
    margin: 15px;
    width: auto;
}

.top-bar {
    height: var(--header-height);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 var(--space-lg);
    background: var(--bg-surface);
    border-bottom: var(--border-std);
    padding: 20px;
}

/* Nav & Sidebar */
.brand-area {
    margin-bottom: 30px;
    background: var(--color-orange);
    border: var(--border-std);
    padding: 15px;
    box-shadow: var(--shadow-hard);
    text-align: center;
    transform: rotate(-1.5deg);
    border-radius: var(--radius-main);
}

.brand-area h1 {
    font-size: 1.8rem;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: -0.5px;
    color: #fff;
    text-shadow: 2px 2px 0px #000;
}

.nav-item {
    list-style: none;
    padding: 14px 16px;
    margin-bottom: 12px;
    border: var(--border-std);
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 700;
    background: #fff;
    transition: all 0.1s;
    box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.15);
}

.nav-item:hover {
    transform: translate(-2px, -2px);
    box-shadow: 5px 5px 0 var(--border-color);
    background: var(--bg-soft);
}

.nav-item.active {
    background-color: var(--color-purple);
    color: #fff;
    border-color: var(--bg-surface);
    box-shadow: 5px 5px 0 var(--border-color);
    transform: translate(-2px, -2px);
}

/* Button Menu Toggle */
.btn-menu-toggle {
    font-size: 0.8rem;
    font-weight: 900;
    background: var(--bg-surface);
    border: 3px solid #000;
    padding: 5px 12px;
    border-radius: 2px;
    cursor: pointer;
    box-shadow: 4px 4px 0px #000;
    transform: rotate(-2deg);
}

#page-title {
    font-size: 1.4rem;
    font-weight: 900;
    color: var(--text-main);
    text-transform: uppercase;
    display: inline-block;
    background-color: var(--color-yellow);
    padding: 5px 15px;
    border: var(--border-std);
    border-radius: 4px;
    box-shadow: 4px 4px 0px var(--border-color);
    margin-left: 5px;
}

#content-area {
    flex-grow: 1;
    overflow-y: auto;
    padding: var(--space-lg);
    animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* =========================================
   5. UI COMPONENTS
   ========================================= */

/* --- Cards --- */
.paper-card {
    background: #fff;
    border: var(--border-std);
    border-radius: var(--radius-main);
    padding: var(--space-lg);
    box-shadow: var(--shadow-hard);
    transition: all 0.1s;
    position: relative;
    display: flex;
    flex-direction: column;
}

.paper-card:hover {
    transform: translate(-2px, -2px);
    box-shadow: var(--shadow-hover);
}

/* --- Section Tags --- */
.section-tag, .section-tag-finance, .section-tag-habits {
    display: inline-flex;
    align-items: center;
    color: #fff;
    border: var(--border-std);
    padding: 6px 12px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 15px;
    box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.2);
    width: fit-content;
}

.section-tag { background: var(--border-color); }
.section-tag-finance { background: var(--color-orange); }
.section-tag-habits { background: var(--color-green); }
.section-tag-yellow { background: var(--color-yellow); }


/* --- Buttons --- */
.btn-main {
    background-color: var(--color-pink);
    color: var(--text-main);
    border: var(--border-std);
    padding: 12px 24px;
    border-radius: var(--radius-main);
    font-size: 1rem;
    font-weight: 800;
    cursor: pointer;
    box-shadow: var(--shadow-hard);
    transition: all 0.1s;
    text-transform: uppercase;
}

.btn-main:hover {
    transform: translate(-2px, -2px);
    box-shadow: var(--shadow-hover);
    background-color: var(--color-red);
    color: #fff;
}

.btn-main:active {
    transform: translate(0, 0);
    box-shadow: var(--shadow-active);
}

.btn-action, .btn-add {
    background: #fff;
    border: var(--border-std);
    color: var(--text-main);
    padding: 8px 16px;
    border-radius: var(--radius-main);
    font-weight: 700;
    cursor: pointer;
    box-shadow: 2px 2px 0 var(--border-color);
    transition: all 0.1s;
}

.btn-action:hover, .btn-add:hover {
    transform: translate(-1px, -1px);
    box-shadow: 3px 3px 0 var(--border-color);
    background: var(--color-yellow);
}

.btn-action:active {
    transform: translate(0, 0);
    box-shadow: 0 0 0;
}

.btn-danger { background: var(--color-red); color: #fff; }
.btn-sm { padding: 2px 8px; font-size: 0.7rem; }

/* --- Inputs --- */
.input-std {
    width: 100%;
    padding: 14px;
    border: var(--border-std);
    border-radius: var(--radius-main);
    font-family: var(--font-main);
    background: #fff;
    font-weight: 600;
    font-size: 1rem;
    box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
    margin-top: 2px;
    margin-bottom: 8px;
}

.input-std:focus {
    outline: none;
    background: #fff;
    border-color: var(--color-blue);
    box-shadow: 5px 5px 0 var(--border-color);
    transform: translate(-2px, -2px);
    transition: 0.2s;
}

.input-row { display: flex; gap: 10px; }

/* --- Progress Bars --- */
.p-bar {
    height: 14px;
    background-color: #e0e0e0;
    border: var(--border-std);
    border-radius: 20px;
    width: 100%;
    overflow: hidden;
    margin-top: 6px;
}

.p-fill {
    height: 100%;
    background-color: var(--color-green);
    border-right: 2px solid var(--border-color);
    width: 0%;
    transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* --- Profile Widget --- */
.user-profile-widget {
    text-align: left;
    padding: 5px;
    cursor: pointer;
}

.user-profile-label {
    font-size: 0.6rem;
    font-weight: 800;
    letter-spacing: 1.5px;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    margin-bottom: 10px;
}

.user-profile-content {
    display: flex;
    align-items: center;
    gap: 12px;
}

.user-avatar-box {
    width: 48px;
    height: 48px;
    border: 2px solid #fff;
    border-radius: 10px;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    box-shadow: 3px 3px 0 #000;
}

.user-info-box { flex: 1; overflow: hidden; }

.user-name {
    font-size: 0.8rem;
    font-weight: 900;
    color: #fff;
    text-transform: uppercase;
    margin-bottom: 2px;
}

.user-edu {
    font-size: 0.5rem;
    font-weight: 900;
    line-height: 1.1;
    color: var(--color-yellow);
    text-transform: uppercase;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
}

.user-time-box {
    margin-top: 15px;
    padding: 6px 10px;
    background: #000;
    border: 1px solid #fff;
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.user-status-dot {
    width: 6px;
    height: 6px;
    background: #4cd137;
    border-radius: 50%;
    box-shadow: 0 0 5px #4cd137;
}

/* --- Dashboard Grid --- */
.dashboard-grid-v2 {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: var(--space-lg);
    padding-bottom: 40px;
}

.dashboard-stat-item {
    padding: 10px;
    border: 2px dashed var(--border-color);
    border-radius: 8px;
    background: #fff;
    text-align: center;
}

/* =========================================
   6. MODULES (GOALS, LIBRARY, ETC.)
   ========================================= */

/* --- Goal Hierarchy --- */
.goal-container { display: flex; flex-direction: column; gap: 25px; }

.topic-item {
    margin-left: 20px;
    padding-left: 20px;
    border-left: 4px solid var(--color-blue);
    margin-top: 20px;
}

.subtopic-item {
    background: var(--bg-soft);
    border: 2px solid var(--border-color);
    padding: 15px;
    border-radius: 8px;
    margin-top: 15px;
    box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
}

/* --- Library & Tools Grids --- */
.library-grid, .tools-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
}

.tool-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 180px;
    background: #fff;
}

.tool-icon {
    font-size: 3rem;
    margin-bottom: 15px;
    filter: drop-shadow(3px 3px 0px rgba(0, 0, 0, 0.2));
}

/* --- Overlays (Modals) --- */
.modal-overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(18, 18, 18, 0.7);
    backdrop-filter: blur(4px);
    z-index: 1000;
    display: none;
    align-items: center;
    justify-content: center;
}

.modal-overlay.active { display: flex; }

.modal-card {
    background: var(--bg-surface);
    width: 90%;
    max-width: 450px;
    padding: 30px;
    border: var(--border-std);
    border-radius: var(--radius-main);
    box-shadow: 10px 10px 0 var(--border-color);
    border-width: 3px;
    animation: popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes popIn {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

.modal-title {
    font-size: 1.5rem;
    font-weight: 900;
    color: #fff;
    margin-bottom: 20px;
    text-transform: uppercase;
    background: var(--color-orange);
    display: inline-block;
    padding: 4px 10px;
    border: 2px solid #000;
    transform: rotate(-1deg);
    box-shadow: 3px 3px 0 #000;
}

.modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    margin-top: 30px;
}

/* --- Toast Notifications --- */
.toast-container {
    position: fixed;
    top: 20px; right: 20px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 15px;
    pointer-events: none;
}

.toast-item {
    background: #fff;
    border: var(--border-std);
    padding: 15px 20px;
    border-radius: var(--radius-main);
    box-shadow: var(--shadow-hard);
    font-weight: 700;
    min-width: 300px;
    display: flex;
    align-items: center;
    border-left-width: 12px;
    pointer-events: auto;
    cursor: pointer;
    animation: slideInToast 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.toast-item.success { border-left-color: var(--color-green); }
.toast-item.error { border-left-color: var(--color-red); }
.toast-item.info { border-left-color: var(--color-blue); }

@keyframes slideInToast {
    from { transform: translateX(120%) skewX(-10deg); opacity: 0; }
    to { transform: translateX(0) skewX(0); opacity: 1; }
}

/* =========================================
   7. WIDGETS (TIMER, PLAYER, TOOLS)
   ========================================= */

/* --- Timer Widget --- */
.timer-box {
    background: #fff;
    color: var(--text-main);
    border: var(--border-std);
    border-radius: var(--radius-main);
    padding: 20px;
    text-align: center;
    box-shadow: var(--shadow-hard);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.timer-display {
    font-size: 4rem;
    font-weight: 900;
    line-height: 1;
    font-variant-numeric: tabular-nums;
    letter-spacing: 2px;
    margin: 10px 0;
    text-shadow: 0 0 10px rgba(166, 227, 161, 0.4);
}

.timer-digits {
    font-size: 4.5rem;
    font-weight: 900;
    line-height: 1;
    color: var(--text-main);
    font-variant-numeric: tabular-nums;
    margin: 15px 0;
    letter-spacing: -2px;
}

.timer-controls-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin-top: 15px;
}

.btn-time-set {
    background: #fff;
    border: 1px solid var(--border-color);
    padding: 8px;
    font-weight: 700;
    font-size: 0.9rem;
    cursor: pointer;
    border-radius: 6px;
    transition: 0.1s;
}

.btn-time-set:hover { background: var(--bg-soft); }

.btn-main-toggle {
    grid-column: span 3;
    background: var(--text-main);
    color: var(--color-green);
    border: none;
    padding: 12px;
    font-size: 1.2rem;
    font-weight: 900;
    text-transform: uppercase;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 5px;
}

.btn-main-toggle:hover { opacity: 0.9; transform: scale(0.98); }
.btn-main-toggle.running { background: var(--color-yellow); color: #000; }

/* --- Atmosphere Player --- */
.atmosphere-player {
    background: #1db954;
    color: #fff;
    border: var(--border-std);
    border-radius: 12px;
    padding: 15px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: var(--shadow-hard);
    height: 100%;
}

.player-screen {
    background: rgba(0, 0, 0, 0.2);
    padding: 10px;
    border-radius: 6px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.track-info { flex: 1; font-size: 0.85rem; line-height: 1.2; }
.track-title { font-weight: 800; display: block; }
.track-artist { font-size: 0.75rem; opacity: 0.8; }

.player-controls { display: flex; justify-content: space-around; align-items: center; }

.btn-sound {
    background: none;
    border: 2px solid #fff;
    color: #fff;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: 0.2s;
}

.btn-sound:hover { background: #fff; color: #1db954; }

.btn-sound.active {
    background: #fff;
    color: #1db954;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

/* --- Brain Dump & Notes --- */
.brain-dump-area {
    border: 2px dashed var(--text-muted);
    background: transparent;
    border-radius: var(--radius-main);
    padding: 15px;
    color: var(--text-muted);
    font-size: 0.9rem;
    transition: all 0.2s;
}

.brain-dump-area:focus-within {
    border-color: var(--color-purple);
    background: #fff;
    color: var(--text-main);
}

/* --- Library Components --- */
.library-controls {
    display: flex;
    gap: 12px;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px dashed var(--border-color);
    overflow-x: auto;
}

.lib-filter-btn {
    background: #fff;
    border: var(--border-std); /* ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô border: 2px solid #000; ‡πÉ‡∏´‡πâ‡πÄ‡∏™‡πâ‡∏ô‡∏´‡∏ô‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô */
    padding: 8px 16px;

    /* üëá ‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö */
    border-radius: 8px; /* ‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏õ‡πá‡∏ô 50px ‡∏°‡∏±‡∏ô‡πÄ‡∏•‡∏¢‡∏Å‡∏•‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡∏õ‡∏ã‡∏π‡∏• */

    font-weight: 700;
    cursor: pointer;
    font-family: var(--font-main);
    font-size: 0.9rem;
    color: var(--text-muted);
    transition: all 0.2s;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1); /* ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏≤‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏î‡πâ */
}

/* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ô‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏à‡∏°‡∏•‡∏á‡πÑ‡∏õ */
.lib-filter-btn:hover,
.lib-filter-btn.active {
    background: #000;
    color: #fff;
    box-shadow: 4px 4px 0 rgba(0,0,0,0.2);
    transform: translate(-2px, -2px);
}


.lib-filter-btn.active {
    background: var(--text-main);
    color: var(--color-yellow);
    box-shadow: 4px 4px 0 rgba(0,0,0,0.2);
    transform: translateY(-2px);
}

.book-card {
    background: #fff;
    border: var(--border-std);
    border-radius: 6px 12px 12px 6px;
    position: relative;
    transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    display: flex;
    flex-direction: column;
    border-left-width: 12px;
    border-left-color: var(--color-blue);
    box-shadow: var(--shadow-hard);
}

.book-card:hover {
    transform: translateY(-8px) rotate(1deg);
    box-shadow: 8px 8px 0 rgba(0,0,0,0.2);
    z-index: 5;
}

.book-cover-area {
    width: 100%;
    aspect-ratio: 2/3;
    background-color: #f0f0f0;
    border-bottom: var(--border-std);
    position: relative;
    overflow: hidden;
    border-radius: 0 10px 0 0;
}

.book-cover-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
}

.book-card:hover .book-cover-img { transform: scale(1.05); }

.no-cover {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: var(--text-muted);
    background-image: radial-gradient(#ccc 1px, transparent 1px);
    background-size: 10px 10px;
    text-align: center;
    padding: 10px;
}

.book-details { padding: 12px; flex-grow: 1; display: flex; flex-direction: column; }

.book-title {
    font-weight: 800;
    font-size: 1rem;
    line-height: 1.3;
    margin-bottom: 4px;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.book-author { font-size: 0.8rem; color: var(--text-muted); margin-bottom: 10px; }

.book-type-badge {
    position: absolute;
    top: 8px; right: 8px;
    background: rgba(0,0,0,0.7);
    color: #fff;
    font-size: 0.65rem;
    padding: 3px 6px;
    border-radius: 4px;
    font-weight: 700;
    backdrop-filter: blur(2px);
    z-index: 2;
}

.book-actions {
    margin-top: auto;
    padding-top: 10px;
    border-top: 1px dashed #ddd;
    display: flex;
    gap: 5px;
    justify-content: flex-end;
}

.btn-icon-sm {
    width: 28px;
    height: 28px;
    border: 1.5px solid var(--border-color);
    border-radius: 4px;
    background: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    transition: 0.1s;
}

.btn-icon-sm:hover { background: var(--bg-main); transform: scale(1.1); }

.spine-book { border-left-color: var(--color-blue); }
.spine-course { border-left-color: var(--color-purple); }
.spine-article { border-left-color: var(--color-orange); }
.spine-note { border-left-color: var(--color-green); }

.library-empty {
    text-align: center;
    padding: 60px 20px;
    border: 3px dashed var(--border-color);
    border-radius: var(--radius-main);
    background: rgba(255,255,255,0.5);
    color: var(--text-muted);
}

/* --- Money Tool --- */
.receipt-list {
    background: #fff;
    border: var(--border-std);
    padding: 0;
    list-style: none;
}

.receipt-item {
    display: flex;
    justify-content: space-between;
    padding: 12px 15px;
    border-bottom: 1px dashed var(--border-color);
    font-family: 'Courier New', Courier, monospace;
    font-weight: 700;
}

.receipt-item:last-child { border-bottom: none; }

.money-type-toggle {
    display: flex;
    background: #e0e0e0;
    border-radius: 8px;
    padding: 4px;
    margin-bottom: 15px;
}

.type-btn-income {
    flex: 1;
    border: none;
    padding: 10px;
    border-radius: 6px;
    font-weight: 800;
    cursor: pointer;
    transition: 0.2s;
    background: var(--color-green);
    color: var(--bg-surface);
}

.type-btn-expense {
    flex: 1;
    border: none;
    padding: 10px;
    border-radius: 6px;
    font-weight: 800;
    cursor: pointer;
    transition: 0.2s;
    background: var(--color-red);
    color: var(--bg-surface);
}

.type-btn.active.expense { background: var(--danger); color: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
.type-btn.active.income { background: var(--success); color: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }

.cat-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin-bottom: 15px;
}

.cat-btn {
    background: #fff;
    border: 1px solid var(--border-color);
    padding: 8px 4px;
    border-radius: 6px;
    font-size: 0.8rem;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    transition: 0.1s;
}

.cat-btn:hover { background: var(--bg-soft); }
.cat-btn.selected { border-width: 2px; border-color: var(--text-main); background: var(--color-yellow); }

.balance-card {
    background: #fff;
    color: var(--text-main);
    padding: 25px;
    border: 3px solid #000; /* ‡∏Ç‡∏≠‡∏ö‡∏´‡∏ô‡∏≤ */
    border-radius: 12px;
    text-align: center;
    box-shadow: 8px 8px 0 rgba(0,0,0,1); /* ‡πÄ‡∏á‡∏≤‡∏ó‡∏∂‡∏ö */
    margin-bottom: 20px;
    position: relative;
    overflow: hidden;
}

/* ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏Ç‡∏≤‡∏ß */
.balance-label {
    font-size: 0.8rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-muted);
    border-bottom: 2px solid #000;
    display: inline-block;
    padding-bottom: 4px;
    margin-bottom: 10px;
}

.balance-amount { font-size: 2.5rem; font-weight: 900; margin: 5px 0; }

/* --- Habit Tool --- */
.habit-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px;
}

.habit-card {
    background: #fff;
    border: var(--border-std);
    padding: 15px;
    border-radius: var(--radius-main);
    box-shadow: 4px 4px 0 rgba(0,0,0,0.1);
    transition: 0.2s;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.habit-card.done { background: var(--bg-soft); border-color: var(--text-muted); }

/* --- Exercise Tool --- */
.ex-header { display: flex; align-items: center; margin-bottom: 20px; }
.ex-dash-card { background: linear-gradient(135deg, #fff 0%, #f3e5f5 100%); margin-bottom: 20px; border: var(--border-std); }
.ex-dash-content { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 12px; }
.ex-goal-label { font-size: 0.75rem; color: var(--text-muted); font-weight: 700; letter-spacing: 1px; text-transform: uppercase; }

.ex-big-stat { font-size: 2.2rem; font-weight: 900; line-height: 1; color: var(--color-red); }
.ex-sub-stat { font-size: 1rem; color: var(--text-main); font-weight: normal; }

.ex-metrics-card { margin-bottom: 20px; padding: 20px; border-left: 5px solid var(--text-main); }
.ex-metrics-header { font-weight: 800; margin-bottom: 15px; font-size: 1rem; display: flex; justify-content: space-between; align-items: center; }

.ex-input-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 15px; }
.ex-input-metric { text-align: center; padding: 10px 5px; font-size: 0.9rem; }

.ex-results-container { display: flex; gap: 10px; }
.ex-result-box { flex: 1; background: var(--bg-soft); border-radius: 8px; padding: 10px; text-align: center; border: 1px solid rgba(0,0,0,0.05); }
.ex-result-label { font-size: 0.65rem; color: var(--text-muted); text-transform: uppercase; font-weight: 700; }
.ex-result-value { font-weight: 800; font-size: 1.2rem; margin-top: 2px; color: var(--text-main); }

.ex-form-card { margin-bottom: 25px; border-top: 5px solid var(--color-red); }

.ex-presets-area { display: flex; gap: 8px; margin-bottom: 15px; overflow-x: auto; padding-bottom: 5px; }
.ex-preset-chip {
    background: #fff;
    border: 1px solid var(--border-color);
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
    cursor: pointer;
    font-weight: 600;
    white-space: nowrap;
    transition: 0.1s;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.05);
}
.ex-preset-chip:hover { background: var(--color-red); color: #fff; border-color: var(--color-red); transform: translateY(-1px); }

.ex-entry-grid { display: grid;  gap: 10px; margin-bottom: 15px; }

.ex-intensity-box { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; background: var(--bg-soft); padding: 10px 15px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.05); }
.ex-radio-group { display: flex; gap: 15px; }
.ex-radio-label { cursor: pointer; font-size: 0.9rem; display: flex; align-items: center; gap: 5px; }
.ex-radio-label input { accent-color: var(--color-red); width: 16px; height: 16px; }

.ex-history-section { margin-top: 10px; }
.ex-history-title { font-weight: 800; margin-bottom: 15px; color: var(--text-muted); font-size: 0.9rem; letter-spacing: 1px; }
.ex-history-list { display: flex; flex-direction: column; gap: 10px; }

.ex-log-item {
    display: flex;
    align-items: center;
    background: #fff;
    border: 1px solid #eee;
    border-radius: 10px;
    padding: 12px 15px;
    transition: transform 0.1s;
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}
.ex-log-item:hover { transform: translateX(3px); border-color: var(--color-red); }

.ex-log-icon {
    width: 40px;
    height: 40px;
    background: #f3e5f5;
    color: var(--color-red);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    margin-right: 15px;
    border: 1px solid rgba(182, 89, 89, 0.2);
}

.ex-log-details { flex: 1; }
.ex-log-title { font-weight: 700; font-size: 1rem; color: var(--text-main); }
.ex-log-meta { font-size: 0.8rem; color: var(--text-muted); margin-top: 3px; }

.ex-log-actions { text-align: right; display: flex; flex-direction: column; align-items: flex-end; }
.ex-log-date { font-size: 0.75rem; font-weight: 700; color: #ccc; margin-bottom: 5px; }

.ex-btn-delete {
    border: none;
    background: none;
    color: #e0e0e0;
    font-size: 1.4rem;
    cursor: pointer;
    line-height: 1;
    padding: 0 5px;
    transition: 0.2s;
}
.ex-btn-delete:hover { color: var(--danger); transform: scale(1.2); }

/* =========================================
   8. SPECIALIZED DASHBOARD WIDGETS
   ========================================= */

/* --- Enhanced Status Card --- */
.status-card-enhanced {
    background: var(--color-yellow);
    min-height: 220px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: space-between;
    padding: 24px !important;
    border: 3px solid #000;
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.sys-tag-dark {
    background: #000;
    color: var(--color-yellow);
    padding: 4px 8px;
    font-size: 0.75rem;
    font-weight: 900;
    text-transform: uppercase;
    border-radius: 4px;
    letter-spacing: 1px;
}

.day-counter-wrapper { margin-top: 20px; width: 100%; }

.day-label {
    font-size: 0.7rem;
    font-weight: 800;
    opacity: 0.6;
    letter-spacing: 1px;
    margin-bottom: 5px;
}

.day-big-fraction {
    font-size: 3.5rem;
    font-weight: 900;
    line-height: 1;
    color: #000;
    font-variant-numeric: tabular-nums;
    display: flex;
    align-items: baseline;
}

.curr-day { color: #000; }
.separator { font-size: 2rem; opacity: 0.3; margin: 0 5px; font-weight: 400; }
.total-day { font-size: 1.5rem; opacity: 0.5; }

.sys-progress-track {
    height: 16px;
    background: rgba(255,255,255,0.4);
    border: 2px solid #000;
    border-radius: 4px;
    position: relative;
    overflow: hidden;
}

.sys-progress-fill {
    height: 100%;
    background: #000;
    transition: width 0.5s ease;
}

.sys-progress-grid {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: linear-gradient(90deg, transparent 90%, rgba(255,255,255,0.3) 90%);
    background-size: 10% 100%;
}

.sys-action-text {
    font-size: 0.75rem;
    font-weight: 900;
    letter-spacing: 1px;
    margin-top: 12px;
    text-transform: uppercase;
    opacity: 0.8;
}

/* --- Clock Card Refactor --- */
.clock-card {
    min-height: 220px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.clock-time-text {
    font-size: 4rem;
    line-height: 0.9;
    font-weight: 900;
    letter-spacing: -3px;
    color: var(--text-main);
    margin-bottom: 8px;
    font-variant-numeric: tabular-nums;
}

.clock-date-text {
    font-size: 1.1rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    opacity: 0.8;
}

.clock-week-badge {
    background: var(--text-main);
    color: var(--color-yellow);
    padding: 6px 10px;
    border-radius: 4px;
    font-weight: 900;
    font-size: 0.75rem;
    text-transform: uppercase;
    box-shadow: 4px 4px 0 rgba(0,0,0,0.15);
    transform: rotate(3deg);
    border: 1px solid rgba(0,0,0,0.1);
}

.clock-progress-area {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 2px dashed rgba(0,0,0,0.15);
}

.clock-progress-bar {
    height: 14px;
    background: #fff;
    border: 2px solid var(--text-main);
    border-radius: 12px;
    overflow: hidden;
    margin-top: 5px;
}

.clock-progress-fill {
    height: 100%;
    background: var(--text-main);
    border-right: 2px solid rgba(255,255,255,0.5);
    transition: width 0.5s ease;
}

/* --- Quote Manifesto Widget --- */
.quote-manifesto {
    position: relative;
    min-height: 220px;
    padding: 0;
    display: flex;
    flex-direction: column;
    cursor: pointer;
    background-color: #fff;
    color: var(--text-main);
    border: 3px solid #000;
    box-shadow: 8px 8px 0 var(--text-main);
    overflow: hidden;
    background-image:
        linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px);
    background-size: 20px 20px;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.manifesto-tape-today {
    position: absolute;
    top: -12px; left: 50%;
    transform: translateX(-50%) rotate(-2deg);
    width: 140px; height: 32px;
    background: var(--color-pink);
    border: 2px solid #000;
    opacity: 0.9;
    z-index: 5;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

.manifesto-tape {
    position: absolute;
    top: -12px; left: 50%;
    transform: translateX(-50%) rotate(-2deg);
    width: 140px; height: 32px;
    background: var(--border-color);
    border: 2px solid #000;
    opacity: 0.9;
    z-index: 5;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

.manifesto-tape-habits {
    position: absolute;
    top: -12px; left: 50%;
    transform: translateX(-50%) rotate(-2deg);
    width: 140px; height: 32px;
    background: var(--color-green);
    border: 2px solid #000;
    opacity: 0.9;
    z-index: 5;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

.manifesto-tape-blue {
    position: absolute;
    top: -12px; left: 50%;
    transform: translateX(-50%) rotate(-2deg);
    width: 140px; height: 32px;
    background: var(--color-blue);
    border: 2px solid #000;
    opacity: 0.9;
    z-index: 5;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

.manifesto-tape-red {
    position: absolute;
    top: -12px; left: 50%;
    transform: translateX(-50%) rotate(-2deg);
    width: 140px; height: 32px;
    background: var(--color-red);
    border: 2px solid #000;
    opacity: 0.9;
    z-index: 5;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

.manifesto-tape-orange {
    position: absolute;
    top: -12px; left: 50%;
    transform: translateX(-50%) rotate(-2deg);
    width: 140px; height: 32px;
    background: var(--color-orange);
    border: 2px solid #000;
    opacity: 0.9;
    z-index: 5;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

/* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ó‡∏õ‡∏Å‡∏≤‡∏ß‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Goals */
.manifesto-tape-purple {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%) rotate(-2deg);
    width: 140px;
    height: 32px;
    background: var(--color-purple); /* ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á */
    border: 2px solid #000;
    opacity: 0.9;
    z-index: 5;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}

.manifesto-header {
    padding: 18px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #fff;
    border-bottom: 3px solid #000;
    z-index: 2;
}

.manifesto-tag {
    font-size: 0.75rem;
    font-weight: 900;
    letter-spacing: 0.05em;
    background: #000;
    color: #fff;
    padding: 4px 8px;
    text-transform: uppercase;
    transform: rotate(-1deg);
}

.quote-add-btn {
    font-size: 0.7rem;
    font-weight: 900;
    background: var(--color-yellow);
    border: 2px solid #000;
    padding: 3px 6px;
    cursor: pointer;
    box-shadow: 2px 2px 0 #000;
    text-transform: uppercase;
}

.quote-add-btn:hover {
    transform: translate(-1px, -1px);
    box-shadow: 3px 3px 0 #000;
}

.manifesto-body, .manifesto-body-habits {
    padding: 24px;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 14px;
}
.manifesto-body { justify-content: center; }
.manifesto-body-habits { justify-content: start; }

.manifesto-quote {
    font-family: "Courier New", Courier, monospace;
    font-size: 1.15rem;
    font-weight: 700;
    line-height: 1.5;
    color: #000;
    background: #fff;
    border: 2px solid #000;
    box-shadow: 4px 4px 0 var(--color-yellow);
    padding: 12px;
    transform: rotate(1deg);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.manifesto-author {
    align-self: flex-end;
    font-size: 0.85rem;
    font-weight: 800;
    font-style: italic;
    text-transform: uppercase;
    color: var(--color-purple);
    background: #fff;
    padding: 3px 6px;
    border: 1px solid #000;
}

.manifesto-stamp {
    position: absolute;
    bottom: 12px; right: 12px;
    font-size: 2.8rem;
    font-weight: 900;
    letter-spacing: 0.05em;
    color: rgba(255, 0, 0, 0.15);
    border: 4px solid rgba(255, 0, 0, 0.15);
    padding: 6px 12px;
    transform: rotate(-15deg);
    text-transform: uppercase;
    pointer-events: none;
    z-index: 1;
}

.quote-manifesto:hover {
    transform: translate(-3px, -3px);
    box-shadow: 12px 12px 0 var(--text-main);
}

.quote-manifesto:hover .manifesto-quote {
    transform: rotate(0deg) scale(1.02);
    box-shadow: 6px 6px 0 var(--color-yellow);
}

.btn-shuffle {
    position: absolute;
    top: 10px; right: 10px;
    background: #fff;
    border: 2px solid #000;
    padding: 4px 10px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 900;
    cursor: pointer;
    box-shadow: 2px 2px 0 #000;
    z-index: 10;
    transition: 0.1s;
}

.btn-shuffle:hover {
    transform: translate(-1px, -1px);
    box-shadow: 3px 3px 0 #000;
    background: var(--color-yellow);
}

.btn-shuffle:active {
    transform: translate(0, 0);
    box-shadow: 0 0 0 #000;
}

/* =========================================
   NEW DASHBOARD WIDGETS (GOALS & HABITS V2)
   ========================================= */

/* --- Goals Widget --- */
.dash-goal-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 10px;
}

.dash-goal-item {
    background: var(--bg-soft);
    padding: 10px;
    border-radius: 8px;
    border: 1px solid rgba(0,0,0,0.05);
}

.dash-goal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
}

.dash-goal-title {
    font-weight: 700;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 6px;
}

.dash-goal-percent {
    font-size: 0.75rem;
    font-weight: 900;
    color: var(--color-purple);
}

/* --- Habits Widget V2 (The Control Center) --- */
.dash-habit-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    height: 100%;
    justify-content: center;
}

.dash-habit-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 12px;
    background: #fff;
    border: 2px solid var(--border-color);
    border-radius: 8px;
    transition: all 0.2s;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.05);
}

.dash-habit-row:hover {
    transform: translateX(2px);
    border-color: var(--text-main);
}

.dash-habit-row.is-done {
    background: #f0fff4; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô */
    border-color: var(--color-green);
    opacity: 0.8;
}

.habit-info {
    display: flex;
    align-items: center;
    gap: 8px;
}

.habit-streak-badge {
    display: flex;
    align-items: center;
    gap: 2px;
    background: #000;
    color: #fff;
    padding: 4px 6px;
    border-radius: 4px;
    font-size: 0.65rem;
    font-weight: 900;
}

.habit-streak-fire {
    color: var(--color-orange);
    font-size: 0.8rem;
}

.btn-check-habit {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    border: 2px solid #ddd;
    background: transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: 0.2s;
}

.btn-check-habit:hover {
    border-color: var(--text-main);
    background: var(--bg-soft);
}

.dash-habit-row.is-done .btn-check-habit {
    background: var(--color-green);
    border-color: var(--color-green);
    color: #fff;
    box-shadow: 0 0 10px rgba(89, 158, 104, 0.4);
}


/* =========================================
   9. JOURNAL STYLES (Clean Notebook)
   ========================================= */
.journal-layout {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 25px;
    align-items: start;
}

.jor-editor-wrapper {
    background: #fff;
    border: 3px solid #000;
    border-radius: 12px;
    padding: 25px !important;
    box-shadow: 8px 8px 0 rgba(0,0,0,0.15);
    display: flex;
    flex-direction: column;
    gap: 15px;
    height: fit-content;
}

.jor-editor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.jor-mode-badge {
    font-size: 0.75rem;
    font-weight: 900;
    background: #000;
    color: #fff;
    padding: 4px 10px;
    border-radius: 20px;
    text-transform: uppercase;
}

.jor-divider {
    height: 2px;
    background: var(--bg-soft);
    margin: 5px 0 10px 0;
}

.jor-mood-row {
    display: flex;
    gap: 10px;
    padding: 5px 0;
    overflow-x: auto;
}

.mood-chk {
    background: transparent;
    border: 2px solid transparent;
    font-size: 1.6rem;
    cursor: pointer;
    opacity: 0.5;
    transition: 0.2s;
    filter: grayscale(100%);
    border-radius: 8px;
    padding: 2px;
}
.mood-chk:hover { opacity: 1; transform: translateY(-3px); filter: grayscale(0%); }
.mood-chk.active {
    opacity: 1;
    filter: grayscale(0%);
    background: var(--bg-soft);
    border-color: #ddd;
    transform: scale(1.1);
}

.jor-textarea-clean {
    width: 100%;
    min-height: 180px;
    border: 2px solid #000;
    border-radius: 8px;
    padding: 15px;
    font-size: 1rem;
    line-height: 1.6;
    background: #fff;
    outline: none;
    font-family: var(--font-main);
    resize: vertical;
    background-image: linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px);
    background-size: 100% 1.6rem;
    background-attachment: local;
}

.jor-textarea-clean:focus {
    border-color: var(--color-blue);
    box-shadow: 0 0 0 3px rgba(84, 129, 184, 0.1);
}

.jor-extras-box {
    background: var(--bg-surface);
    border: 1px dashed #ccc;
    border-radius: 8px;
    padding: 15px;
}

.input-line {
    width: 100%;
    border: none;
    border-bottom: 2px solid #ccc;
    background: transparent;
    padding: 5px 0;
    font-size: 0.95rem;
    font-weight: 600;
    outline: none;
    transition: 0.2s;
}

.input-line:focus { border-color: var(--color-blue); }

.jor-pin-option {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 15px;
    padding-top: 10px;
    border-top: 1px solid rgba(0,0,0,0.05);
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--text-muted);
}
.jor-pin-option:hover { color: var(--text-main); }

.jor-list-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.jor-empty {
    text-align: center;
    padding: 40px;
    border: 2px dashed #ccc;
    color: #999;
}

.jor-card {
    display: flex;
    background: #fff;
    border: 2px solid #000;
    box-shadow: 4px 4px 0 rgba(0,0,0,0.1);
    transition: 0.2s;
    position: relative;
}

.jor-card:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0 rgba(0,0,0,0.2); }
.jor-card.featured { border-color: var(--color-blue); box-shadow: 6px 6px 0 var(--color-blue); }

.jor-card-side {
    width: 60px;
    background: #f4f4f4;
    border-right: 2px solid #000;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 15px;
}

.jor-card-date { font-weight: 900; font-size: 0.8rem; text-align: center; line-height: 1.2; }
.jor-card-mood { font-size: 1.8rem; margin: 5px 0; }
.jor-card-line { flex: 1; width: 2px; background: #ddd; margin-bottom: 15px; }

.jor-card-main { flex: 1; padding: 15px; }

.jor-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px dashed #ddd;
}

.jor-actions { display: flex; gap: 5px; }

.jor-action-btn {
    border: none;
    background: none;
    cursor: pointer;
    opacity: 0.3;
    font-size: 1rem;
    transition: 0.2s;
}
.jor-action-btn:hover { opacity: 1; transform: scale(1.2); }
.jor-action-btn.pin.active { opacity: 1; color: var(--color-blue); }
.jor-action-btn.del:hover { color: var(--danger); }

.jor-card-text { font-size: 0.95rem; line-height: 1.5; white-space: pre-wrap; color: #333; }

.jor-card-gratitude {
    margin-top: 10px;
    padding: 8px;
    background: #f0f8ff;
    border-left: 3px solid var(--color-blue);
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-blue);
}

.jor-card-tags {
    margin-top: 10px;
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
}
.jor-card-tags span {
    font-size: 0.7rem;
    background: #eee;
    padding: 2px 6px;
    border-radius: 4px;
    color: #666;
}

.tag-chip {
    font-size: 0.75rem;
    padding: 4px 8px;
    border: 1px solid #000;
    background: #fff;
    cursor: pointer;
    font-weight: 700;
    transition: 0.1s;
}

.tag-chip:hover { background: #000; color: #fff; }
.tag-chip.active { background: var(--color-blue); color: #fff; box-shadow: 2px 2px 0 #000; }
.tag-chip.add { border-style: dashed; opacity: 0.6; }

/* =========================================
   10. MEDIA QUERIES
   ========================================= */

@media (max-width: 1280px) {
    .dashboard-grid-v2 {
        grid-template-columns: 1fr 1fr !important;
        gap: 15px !important;
    }
    .dashboard-grid-v2 > .paper-card:nth-child(1),
    .dashboard-grid-v2 > .paper-card:nth-child(2) {
        grid-column: span 1 !important;
        min-height: 200px !important;
    }
    .dashboard-grid-v2 > .paper-card:nth-child(3) { grid-column: span 1 !important; }
    .dashboard-grid-v2 > .paper-card:nth-child(4) {
        grid-column: span 1 !important;
        border-left-width: 8px !important;
    }
    .dashboard-grid-v2 > .paper-card:nth-child(4) .btn-action {
        margin-top: 10px !important;
        padding: 5px 15px !important;
        font-size: 0.8rem !important;
    }
}

@media (max-width: 1024px) {
    .app-layout { display: block; position: relative; }
    .app-layout.desktop-collapsed { grid-template-columns: none; }

    .sidebar {
        position: fixed;
        top: 0; left: 0; height: 100%; width: 280px;
        transform: translateX(-100%);
        box-shadow: 5px 0 15px rgba(0, 0, 0, 0.3);
        border-right: none;
        z-index: 1000;
    }
    .sidebar.mobile-active { transform: translateX(0); }

    .main-content {
        /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡∏∞ 15px ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á */
        width: calc(100% - 30px) !important;

        /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏ö‡∏ô‡∏•‡πà‡∏≤‡∏á 15px */
        margin: 15px auto !important;

        /* ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô Card ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Desktop */
        border-radius: 15px !important;
        border: var(--border-std) !important;

        /* ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ */
        height: auto !important;
        min-height: calc(100vh - 30px); /* ‡∏•‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ï‡∏≤‡∏° margin */
        overflow: visible !important;
        display: block !important;
        box-shadow: var(--shadow-hard) !important; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏°‡∏µ‡∏°‡∏¥‡∏ï‡∏¥ */
    }
    #content-area { padding: 15px !important; }

    .sidebar-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(3px);
        z-index: 900; opacity: 0; visibility: hidden; transition: 0.3s;
    }
    .sidebar-overlay.active { opacity: 1; visibility: visible; }

    /* Top Bar Adjustments */
    #sidebar-toggle {
        padding: 5px 10px;
        background: rgba(0, 0, 0, 0.05) !important;
        border-radius: 6px;
        padding: 4px 8px;
        font-size: 0.7rem;
    }
    #page-title {
        font-size: 1rem !important;
        padding: 4px 8px !important;
        transform: none !important;
        max-width: 60vw !important;
        box-shadow: 3px 3px 0px var(--border-color) !important;
    }
    .top-bar {
        padding: 20px 10px !important;
        gap: 10px !important;
    }
}

@media (max-width: 900px) {
    .journal-layout { grid-template-columns: 1fr; }
}

.avatar-option:hover {
    transform: translate(-2px, -2px);
    box-shadow: 3px 3px 0px var(--border-color);
    background: var(--bg-soft) !important;
}



/* =========================================
   11. ULTIMATE RESPONSIVE FIX ( ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ + ‡∏à‡∏≠‡∏•‡πâ‡∏ô )
   ========================================= */

@media (max-width: 1024px) {

    /* 1. ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ Body ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥ (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!) */
    body {
        overflow-y: auto !important; /* ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
        height: auto !important;     /* ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
    }

    /* 2. ‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å */
    .app-layout {
        display: flex !important;    /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Grid ‡πÄ‡∏õ‡πá‡∏ô Flex ‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
        flex-direction: column !important;
        height: auto !important;
        overflow: visible !important; /* ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô */
    }

    /* ‡∏ã‡πà‡∏≠‡∏ô Sidebar ‡πÑ‡∏ß‡πâ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢ */
    .sidebar {
        position: fixed;
        left: -100%;
        top: 0;
        bottom: 0;
        width: 280px;
        z-index: 9999; /* ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á */
        transition: 0.3s;
        box-shadow: 5px 0 15px rgba(0,0,0,0.2);
    }
    .sidebar.mobile-active { left: 0; }

    .main-content {
        width: 100% !important;
        margin: 0 !important;
        border-radius: 0 !important;
        border: none !important;
        height: auto !important;
        min-height: 100vh;
        overflow: visible !important; /* ‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏î‡∏±‡∏ô‡∏•‡∏á‡πÑ‡∏õ‡πÑ‡∏î‡πâ */
        display: block !important;    /* ‡πÄ‡∏•‡∏¥‡∏Å‡πÉ‡∏ä‡πâ Flex/Grid ‡πÉ‡∏ô‡∏ô‡∏µ‡πâ */
    }

    #content-area {
        padding: 15px 15px 80px 15px !important; /* ‡πÄ‡∏û‡∏¥‡πà‡∏° Padding ‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà */
        overflow: visible !important;
        height: auto !important;
    }

    /* 3. ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ó‡∏∏‡∏Å Grid ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á (Stack Vertical) */
    .dashboard-grid-v2,
    .focus-header-grid,
    .focus-workspace-grid,
    .journal-layout,
    .habit-grid,
    .tools-grid,
    .ex-input-grid,
    .ex-entry-grid {
        display: flex !important;
        flex-direction: column !important;
        gap: 20px !important;
    }

    /* ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡πÜ ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
    .dashboard-grid-v2 > *,
    .focus-header-grid > *,
    .focus-workspace-grid > *,
    .journal-layout > *,
    .paper-card {
        width: 100% !important;
        max-width: 100% !important;
        grid-column: auto !important;
        margin-right: 0 !important;
    }

    /* 4. ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏∏‡∏î */
    .cat-grid {
        display: grid !important;
        grid-template-columns: repeat(4, 1fr) !important;
    }

    .timer-controls-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }

    .timer-digits {
        font-size: 15vw !important;
    }

    .jor-mood-row {
        justify-content: space-between;
    }

    img {
        max-width: 100% !important;
        height: auto !important;
    }

    .top-bar {
        padding: 10px 15px !important;
        position: sticky;
        top: 0;
        z-index: 50;
    }
}

/* ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å */
@media (max-width: 600px) {
    .cat-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    .timer-digits {
        font-size: 4rem !important;
    }
}


/* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡∏ß‡∏á‡∏£‡∏µ ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏∏‡∏°‡∏°‡∏ô 8px ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏© */
.lib-filter-btn,
.ex-preset-chip {
    border-radius: 8px !important; /* ‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô 20-50px */
    border: 2px solid #000 !important; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏≠‡∏ö‡∏´‡∏ô‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏π Brutal */
    font-weight: 700;
    text-transform: uppercase;
}

/* ‡πÄ‡∏û‡∏¥‡πà‡∏° Effect ‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏°‡∏•‡∏á (Active State) */
.lib-filter-btn.active,
.ex-preset-chip:hover {
    background: #000 !important;
    color: #fff !important;
    box-shadow: 4px 4px 0 rgba(0,0,0,0.2);
    transform: translate(-2px, -2px);
}


/* =========================================
   12. MOBILE RESPONSIVE (MOBILE FIRST)
   ========================================= */

@media (max-width: 768px) {

    /* --- A. Global Layout Adjustments --- */
    .main-content {
        width: calc(100% - 20px) !important; /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
        margin: 10px auto !important;
        height: auto !important;
        min-height: calc(100vh - 20px);
        padding: 15px !important;
        border-width: 2px !important;
    }

    .top-bar {
        padding: 15px 10px !important;
        flex-direction: row;
        gap: 10px;
    }

    #page-title {
        font-size: 1rem !important; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 180px;
    }

    /* --- B. Dashboard & Grids --- */
    /* ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ó‡∏∏‡∏Å Grid ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
    .dashboard-grid-v2,
    .journal-layout,
    .ex-entry-grid,
    .tools-grid {
        grid-template-columns: 1fr !important;
        gap: 15px !important;
    }

    /* Money: ‡∏õ‡∏£‡∏±‡∏ö Grid ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 3 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå (‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô) */
    .cat-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }

    /* Exercise: ‡∏õ‡∏£‡∏±‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
    .ex-input-grid {
        grid-template-columns: 1fr 1fr !important;
    }

    /* --- C. Card & Component Adjustments --- */

    /* Money: ‡∏ö‡∏±‡∏ï‡∏£‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô (Balance Card) */
    .balance-card {
        padding: 20px 15px !important;
    }
    .balance-card .u-flex-center {
        flex-direction: row; /* ‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö-‡∏à‡πà‡∏≤‡∏¢‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô */
        gap: 15px !important;
        justify-content: space-around;
    }
    .balance-amount {
        font-size: 2rem !important; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏á‡∏¥‡∏ô */
    }

    /* Goals: ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ */
    .goal-container .u-flex-between {
        align-items: flex-start; /* ‡∏à‡∏±‡∏î‡∏ä‡∏¥‡∏î‡∏ö‡∏ô */
    }
    .goal-container .u-flex-center {
        /* ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô Goal */
        width: 50px !important;
        height: 50px !important;
        font-size: 2rem !important;
        min-width: 50px;
    }
    .goal-container .u-text-xl {
        font-size: 1.1rem !important; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏ä‡∏∑‡πà‡∏≠ Goal */
    }

    /* Journal: ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å */
    .jor-mood-row {
        justify-content: space-between; /* ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢ Emotion ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠ */
        gap: 5px;
    }
    .mood-chk { font-size: 1.4rem !important; }

    /* Library: ‡∏ä‡∏±‡πâ‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ */
    .library-grid {
        grid-template-columns: 1fr 1fr !important; /* ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏ß‡πå 2 ‡πÄ‡∏•‡πà‡∏°‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô */
        gap: 10px !important;
    }
    .book-cover-area { height: 160px; } /* ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏õ‡∏Å */

    /* Exercise: History List */
    .ex-log-item {
        padding: 10px;
    }
    .ex-log-icon {
        width: 32px;
        height: 32px;
        font-size: 1rem;
        margin-right: 10px;
    }
    .ex-log-title { font-size: 0.9rem; }
    .ex-log-meta { font-size: 0.75rem; }

    /* --- D. Modals (Popups) --- */
    .modal-card {
        width: 95% !important; /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠ */
        padding: 20px !important;
        max-height: 90vh;
        overflow-y: auto; /* ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏¢‡∏≤‡∏ß */
    }
    .modal-actions button {
        padding: 10px 15px; /* ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢ */
        flex: 1; /* ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
    }

    /* --- E. Buttons & Inputs --- */
    .btn-action, .btn-main {
        padding: 10px 16px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ */
    }

    .input-std {
        padding: 12px;
    }
}

/* --- Small Phones (iPhone SE / Mini) --- */
@media (max-width: 380px) {
    .library-grid {
        grid-template-columns: 1fr !important; /* ‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏ß‡πå‡πÄ‡∏•‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß */
    }
    .balance-amount {
        font-size: 1.6rem !important;
    }
    .cat-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}


/* =========================================
   13. FOCUS PAGE FIX (Layout System)
   ========================================= */

/* Desktop Layout (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô) */
.focus-layout {
    display: flex;
    flex-direction: column;
    gap: 20px;
    width: 100%;
}

.focus-header-grid {
    display: grid;
    grid-template-columns: 2fr 1fr; /* ‡∏ã‡πâ‡∏≤‡∏¢‡∏Å‡∏ß‡πâ‡∏≤‡∏á 2 ‡∏™‡πà‡∏ß‡∏ô, ‡∏Ç‡∏ß‡∏≤ 1 ‡∏™‡πà‡∏ß‡∏ô */
    gap: 20px;
    margin-bottom: 20px;
}

.focus-workspace-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* ‡πÅ‡∏ö‡πà‡∏á‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô */
    gap: 20px;
}

/* Mobile Layout (‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1024px) */
@media (max-width: 1024px) {
    .focus-header-grid,
    .focus-workspace-grid {
        display: flex !important;
        flex-direction: column !important; /* ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏á‡∏°‡∏≤‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
        gap: 20px !important;
    }

    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á Timer ‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ‡πÉ‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
    .timer-box {
        min-height: auto !important;
        padding: 30px 20px !important;
    }

    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏ô */
    .timer-digits {
        font-size: 5rem !important;
        margin: 20px 0 !important;
    }

    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° Mission Control */
    .quote-manifesto {
        min-height: auto !important;
        padding-bottom: 20px !important;
    }
}


/* --- Atmosphere Widget (Upgrade) --- */
.atmosphere-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin-top: 10px;
}

.sound-card {
    position: relative;
    height: 80px;
    border-radius: 8px;
    border: 2px solid var(--border-color);
    overflow: hidden;
    cursor: pointer;
    transition: all 0.2s ease;
    background-color: #000;
}

.sound-card:hover {
    transform: scale(1.02);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.sound-card.active {
    border: 3px solid var(--color-green); /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ï‡∏≠‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
    box-shadow: 0 0 10px var(--color-green);
}

/* ‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
.sound-bg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.6; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏∑‡∏î‡∏•‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ */
    transition: 0.3s;
}

.sound-card.active .sound-bg {
    opacity: 0.8;
    transform: scale(1.1);
}

/* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î */
.sound-info {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 8px;
    background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
    color: #fff;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
}

.sound-name {
    font-weight: 700;
    font-size: 0.8rem;
    text-transform: uppercase;
    text-shadow: 0 1px 2px #000;
}

/* Icon ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏ï‡∏≠‡∏ô‡πÄ‡∏•‡πà‡∏ô */
.playing-icon {
    display: none;
    font-size: 0.8rem;
    animation: bounce 1s infinite;
}

.sound-card.active .playing-icon {
    display: block;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
}


/* --- Atmosphere Widget (Premium UI) --- */
.atmosphere-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* ‡πÄ‡∏£‡∏µ‡∏¢‡∏á 3 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÉ‡∏ô Desktop */
    gap: 12px;
    margin-top: 15px;
}

@media (max-width: 768px) {
    .atmosphere-grid {
        grid-template-columns: repeat(2, 1fr) !important; /* ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 2 */
    }
}

.sound-card {
    position: relative;
    height: 90px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á */
    border-radius: 12px;
    border: 2px solid transparent;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    background-color: #222;
}

.sound-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 15px rgba(0,0,0,0.2);
}

/* ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Active (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏¢‡∏π‡πà) */
.sound-card.active {
    border-color: var(--color-green);
    box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.3); /* ‡πÅ‡∏™‡∏á‡∏ü‡∏∏‡πâ‡∏á‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß */
}

/* ‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
.sound-bg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.6;
    transition: 0.5s ease;
}

.sound-card:hover .sound-bg {
    opacity: 0.8;
    transform: scale(1.1); /* ‡∏ã‡∏π‡∏°‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡∏î‡πÜ ‡∏ï‡∏≠‡∏ô‡πÄ‡∏≠‡∏≤‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ä‡∏µ‡πâ */
}

.sound-card.active .sound-bg {
    opacity: 0.4; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏∑‡∏î‡∏•‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Icon ‡πÄ‡∏î‡πà‡∏ô */
}

/* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
.sound-info {
    position: absolute;
    inset: 0; /* ‡πÄ‡∏ï‡πá‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà */
    background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.2) 60%, transparent 100%);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 10px;
}

.sound-name {
    color: #fff;
    font-size: 0.8rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.8);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡πâ‡∏á‡∏î‡∏∂‡πã‡∏á */
.playing-icon {
    display: none;
    width: 10px;
    height: 10px;
    background: var(--color-green);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--color-green);
    animation: pulse 1.5s infinite;
}

.sound-card.active .playing-icon {
    display: block;
}

@keyframes pulse {
    0% { transform: scale(0.8); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(0.8); opacity: 0.5; }
}


/* =========================================
   13. FINAL MOBILE FIX (‡πÅ‡∏Å‡πâ‡∏ó‡∏∏‡∏Å‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏Å)
   ========================================= */

@media (max-width: 768px) {

    /* --- 1. ‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö Dashboard (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß) --- */
    .dashboard-grid-v2 {
        display: flex !important; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Grid ‡πÄ‡∏õ‡πá‡∏ô Flex ‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
        flex-direction: column !important;
        gap: 20px !important;
    }

    /* ‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å Journal ‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á Span 2 ‡πÑ‡∏ß‡πâ */
    /* ‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å! ‡∏™‡∏±‡πà‡∏á‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤ Grid Column ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î */
    .dashboard-grid-v2 > div,
    .paper-card[style*="span 2"] {
        grid-column: auto !important;
        width: 100% !important;
    }

    /* --- 2. ‡πÅ‡∏Å‡πâ‡∏´‡∏ô‡πâ‡∏≤ Focus (Hack Inline Styles) --- */
    /* ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Div ‡∏ó‡∏µ‡πà‡∏°‡∏µ style ‡πÄ‡∏õ‡πá‡∏ô grid ‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô flex ‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
    #content-area > div > div[style*="grid-template-columns"] {
        display: flex !important;
        flex-direction: column !important;
        gap: 20px !important;
    }

    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏ô‡∏à‡∏≠ */
    .timer-digits {
        font-size: 4.5rem !important;
        line-height: 1;
        margin: 20px 0;
    }

    /* --- 3. ‡πÅ‡∏Å‡πâ‡∏´‡∏ô‡πâ‡∏≤ Money (‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô) --- */
    .money-type-toggle {
        display: flex !important; /* ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö/‡∏à‡πà‡∏≤‡∏¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
    }
    .money-type-toggle button {
        flex: 1; /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô */
        text-align: center;
    }

    .balance-card .u-flex-center {
        gap: 10px !important; /* ‡∏•‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç */
    }
    .balance-amount {
        font-size: 2.5rem !important; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏ß‡∏° */
    }

    /* --- 4. ‡πÅ‡∏Å‡πâ‡∏´‡∏ô‡πâ‡∏≤ Library --- */
    .library-grid {
        grid-template-columns: 1fr 1fr !important; /* ‡πÇ‡∏ä‡∏ß‡πå 2 ‡πÄ‡∏•‡πà‡∏°‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô */
        gap: 15px !important;
    }

    /* --- 5. ‡πÄ‡∏Å‡πá‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (Global) --- */
    .main-content {
        /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏™‡∏ß‡∏¢ */
        width: 94% !important;
        margin: 10px auto !important;
        padding: 15px !important;
        min-height: 85vh; /* ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏•‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢ */
    }

    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á */
    #page-title {
        font-size: 1.2rem !important;
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏° Back ‡∏ó‡∏µ‡πà‡∏Å‡∏¥‡∏ô‡∏ó‡∏µ‡πà (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£) ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á */
    .ex-header button,
    .u-flex-align-center button {
        padding: 5px 10px !important;
        font-size: 0.8rem !important;
    }
}

/* --- ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å (iPhone SE / Mini) --- */
@media (max-width: 380px) {
    .library-grid {
        grid-template-columns: 1fr !important; /* ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 1 ‡πÄ‡∏•‡πà‡∏° */
    }
    .timer-digits {
        font-size: 3.5rem !important;
    }
}


/* =========================================
   13. FINAL MOBILE FIX (V2 - ‡πÅ‡∏Å‡πâ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û)
   ========================================= */

@media (max-width: 768px) {

    /* --- 1. Dashboard: ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î --- */
    .dashboard-grid-v2 {
        display: flex !important;
        flex-direction: column !important;
        gap: 20px !important;
    }

    /* ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏∏‡∏Å‡πÉ‡∏ö‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠ (‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Span 2) */
    .dashboard-grid-v2 > div,
    .paper-card[style*="grid-column: span 2"] {
        grid-column: auto !important;
        width: 100% !important;
        margin: 0 !important;
    }

    /* --- 2. ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πå‡∏î Daily Log (Journal) ‡πÄ‡∏ö‡∏µ‡∏¢‡∏î --- */
    /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤ -> ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ö‡∏ô‡∏•‡πà‡∏≤‡∏á */
    .dashboard-grid-v2 .quote-manifesto .manifesto-body .u-flex-align-center {
        flex-direction: column !important;
        text-align: center !important;
        gap: 5px !important;
    }

    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥ */
    .dashboard-grid-v2 .quote-manifesto .manifesto-body .u-flex-align-center > div:first-child {
        margin-right: 0 !important;
        margin-bottom: 10px !important;
    }

    /* ‡∏à‡∏±‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô' ‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° */
    .dashboard-grid-v2 .quote-manifesto .manifesto-body .u-text-right {
        text-align: center !important;
        width: 100% !important;
        margin-top: 15px !important;
    }

    /* --- 3. ‡πÅ‡∏Å‡πâ‡∏´‡∏ô‡πâ‡∏≤ Focus (Timer) --- */
    /* ‡∏á‡∏±‡∏î‡πÅ‡∏á‡∏∞ Inline Style ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Grid ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Flex ‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
    #content-area > div > div[style*="display:grid"] {
        display: flex !important;
        flex-direction: column !important;
        gap: 20px !important;
    }

    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á ‡πÑ‡∏°‡πà‡∏•‡πâ‡∏ô‡∏à‡∏≠ */
    .timer-digits {
        font-size: 4rem !important; /* ‡∏•‡∏î‡∏à‡∏≤‡∏Å 15vw ‡∏´‡∏£‡∏∑‡∏≠ 5rem */
        margin: 10px 0 !important;
    }

    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á Timer */
    .timer-box {
        padding: 20px !important;
        min-height: auto !important;
    }

    /* --- 4. ‡∏õ‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Money & Library --- */
    .money-type-toggle {
        display: flex !important;
        width: 100% !important;
    }

    /* ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö/‡∏à‡πà‡∏≤‡∏¢ ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏° */
    .money-type-toggle button {
        flex: 1 !important;
        text-align: center !important;
        padding: 12px !important;
    }

    .library-grid {
        grid-template-columns: 1fr 1fr !important; /* ‡πÇ‡∏ä‡∏ß‡πå 2 ‡πÄ‡∏•‡πà‡∏°‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô */
        gap: 15px !important;
    }

    /* --- 5. ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Global --- */
    .main-content {
        width: 95% !important;
        margin: 10px auto !important;
        padding: 15px !important;
        min-height: 90vh !important;
        height: auto !important; /* ‡πÉ‡∏´‡πâ‡∏¢‡∏∑‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
    }

    #page-title {
        font-size: 1.1rem !important;
        max-width: 180px;
    }
}

/* ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å (‡πÄ‡∏ä‡πà‡∏ô iPhone SE) */
@media (max-width: 380px) {
    .library-grid {
        grid-template-columns: 1fr !important; /* ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 1 ‡πÄ‡∏•‡πà‡∏° */
    }
    .timer-digits {
        font-size: 3.5rem !important;
    }
}


/* =========================================
   14. ULTIMATE SCHEDULE STYLES (REVAMPED)
   ========================================= */

/* --- 1. Global Schedule Layout --- */
.sched-new-layout {
    display: grid;
    grid-template-columns: 320px 1fr; /* ‡∏ã‡πâ‡∏≤‡∏¢ Fix ‡∏Ç‡∏ô‡∏≤‡∏î, ‡∏Ç‡∏ß‡∏≤‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô */
    gap: 25px;
    align-items: start;
    margin-top: 20px;
    animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

/* --- 2. Header Area --- */
.sched-header-responsive {
    background: #fff;
    border: 3px solid #000;
    border-radius: 12px;
    padding: 15px 20px;
    box-shadow: 6px 6px 0 rgba(0,0,0,0.15);
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
}

.sched-date-control {
    display: flex;
    align-items: center;
    background: var(--bg-soft);
    border: 2px solid #000;
    border-radius: 8px;
    padding: 4px;
    gap: 5px;
}

.sched-current-date {
    font-family: var(--font-main);
    font-weight: 900;
    font-size: 1.1rem;
    padding: 0 15px;
    min-width: 180px;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.sched-nav-btn {
    width: 36px;
    height: 36px;
    border: 2px solid #000;
    background: #fff;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.1s;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
}

.sched-nav-btn:hover {
    transform: translate(-1px, -1px);
    box-shadow: 3px 3px 0 rgba(0,0,0,0.2);
    background: var(--color-yellow);
}

.sched-nav-btn:active {
    transform: translate(0,0);
    box-shadow: none;
}

/* --- 3. Calendar Area (Left) --- */
.sched-calendar-area {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.full-calendar {
    background: #fff;
    border: 3px solid #000;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 8px 8px 0 rgba(0,0,0,1); /* ‡πÄ‡∏á‡∏≤‡∏ó‡∏∂‡∏ö‡πÅ‡∏ö‡∏ö Brutal */
}

.cal-grid-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    font-weight: 900;
    font-size: 0.85rem;
    margin-bottom: 12px;
    color: var(--text-muted);
}

.cal-grid-body {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 6px;
}

.cal-day {
    aspect-ratio: 1/1;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 700;
    font-size: 0.95rem;
    border: 2px solid transparent;
    transition: all 0.1s;
    position: relative;
}

.cal-day:hover {
    background: var(--bg-soft);
    border-color: #000;
    transform: scale(1.1);
    z-index: 2;
}

.cal-day.active {
    background: #000;
    color: #fff;
    box-shadow: 3px 3px 0 var(--color-yellow);
    transform: scale(1.1);
    z-index: 2;
    border: none;
}

.cal-day.is-today {
    color: var(--color-red);
    text-decoration: underline;
    text-decoration-thickness: 3px;
}

.cal-day.has-event::after {
    content: '';
    position: absolute;
    bottom: 6px;
    width: 5px;
    height: 5px;
    background: var(--color-blue);
    border-radius: 50%;
}

.cal-day.prev-month {
    color: #ddd;
    pointer-events: none;
}

/* --- 4. Stickers Dock --- */
.sched-dock {
    background: #fff;
    border: 3px solid #000;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 6px 6px 0 rgba(0,0,0,0.1);
    text-align: center;
}

.sched-stickers-row {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-bottom: 15px;
}

.sched-sticker {
    background: #fff;
    border: 2px solid #000;
    padding: 8px 14px;
    border-radius: 30px;
    font-size: 0.85rem;
    font-weight: 800;
    cursor: grab;
    box-shadow: 3px 3px 0 #ccc;
    transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    user-select: none;
}

.sched-sticker:hover {
    transform: translateY(-3px) rotate(-2deg);
    box-shadow: 5px 5px 0 var(--color-purple);
    border-color: var(--color-purple);
    color: var(--color-purple);
}

.sched-sticker:active { cursor: grabbing; }

/* State: Selected (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏¥‡πâ‡∏°‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠) */
.sched-sticker.is-selected {
    background: var(--color-yellow) !important;
    color: #000 !important;
    border-color: #000 !important;
    transform: scale(1.1) rotate(2deg);
    box-shadow: 0 0 0 4px rgba(0,0,0,0.1) !important;
    z-index: 10;
}

.btn-action.add-task {
    width: 100%;
    border: 2px dashed #aaa;
    background: transparent;
    color: #888;
    padding: 10px;
    border-radius: 8px;
    font-weight: 700;
    transition: 0.2s;
}

.btn-action.add-task:hover {
    border-color: #000;
    color: #000;
    background: #fff;
}

/* --- 5. Timeline Area (Right) --- */
.sched-timeline-area {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding-bottom: 50px;
}

.sched-block-zone {
    border: 3px solid #000;
    border-radius: 12px;
    background: #fff;
    overflow: hidden;
    box-shadow: 6px 6px 0 rgba(0,0,0,0.05);
    transition: 0.2s;
}

.sched-block-zone:hover {
    transform: translateX(-2px);
    box-shadow: 8px 8px 0 rgba(0,0,0,0.1);
}

.sched-block-header {
    padding: 10px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #fff; /* Text color will be handled by contrast or black */
    font-weight: 900;
    border-bottom: 3px solid #000;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #000; /* Force black text for brutalism readability */
    /* background color comes from inline style */
}

.sched-block-body {
    min-height: 100px;
    padding: 15px;
    background-color: #fff;
    /* Grid Pattern Background */
    background-image:
        linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px);
    background-size: 20px 20px;
}

.sched-placeholder {
    text-align: center;
    color: var(--text-muted);
    font-size: 0.9rem;
    padding: 20px;
    border: 2px dashed #ddd;
    border-radius: 8px;
    margin: 5px;
    font-weight: 600;
    opacity: 0.7;
}

/* --- 6. Event Card (The Ticket Look) --- */
.sched-event-card {
    background: #fff;
    border: 2px solid #000;
    border-left-width: 10px !important; /* Thick indicator */
    padding: 12px 15px;
    border-radius: 6px;
    margin-bottom: 12px;
    position: relative;
    box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
    transition: transform 0.2s, box-shadow 0.2s;
    cursor: pointer;
    overflow: hidden;
}

.sched-event-card:hover {
    transform: translate(-3px, -3px);
    box-shadow: 6px 6px 0 rgba(0,0,0,0.15);
    z-index: 5;
}

.sched-time-badge {
    font-size: 0.75rem;
    font-weight: 800;
    background: #000;
    color: #fff;
    padding: 3px 8px;
    border-radius: 4px;
    display: inline-block;
}

.sched-title {
    font-weight: 800;
    font-size: 1.1rem;
    margin-top: 5px;
    padding-right: 50px; /* Space for buttons */
    line-height: 1.3;
    color: var(--text-main);
}

/* Action Buttons (Edit/Delete) */
.sched-edit-btn, .sched-del-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 32px;
    height: 32px;
    border-radius: 6px;
    border: 2px solid #000;
    background: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    transition: 0.2s;
    opacity: 0; /* Hidden by default on desktop */
}

.sched-edit-btn { right: 45px; color: var(--text-main); }
.sched-del-btn { right: 8px; color: var(--color-red); }

.sched-event-card:hover .sched-edit-btn,
.sched-event-card:hover .sched-del-btn {
    opacity: 1;
}

.sched-edit-btn:hover { background: #000; color: #fff; }
.sched-del-btn:hover { background: var(--color-red); color: #fff; }


/* =========================================
   7. RESPONSIVE MAGIC (Mobile & Tablet)
   ========================================= */

@media (max-width: 1024px) {
    /* Stack Layout Vertical */
    .sched-new-layout {
        grid-template-columns: 1fr; /* 1 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÄ‡∏ï‡πá‡∏° */
        gap: 30px;
    }

    /* ‡∏à‡∏±‡∏î Calendar Area ‡πÉ‡∏´‡∏°‡πà */
    .sched-calendar-area {
        flex-direction: column-reverse; /* ‡πÄ‡∏≠‡∏≤ Sticker ‡πÑ‡∏ß‡πâ‡∏ö‡∏ô ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡πÑ‡∏ß‡πâ‡∏•‡πà‡∏≤‡∏á (‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô) */
        gap: 20px;
    }

    /* Sticker Dock ‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô Scroll ‡πÑ‡∏î‡πâ */
    .sched-stickers-row {
        flex-wrap: nowrap;
        overflow-x: auto;
        padding-bottom: 10px;
        justify-content: flex-start;
        -webkit-overflow-scrolling: touch;
    }

    .sched-sticker {
        white-space: nowrap; /* ‡∏´‡πâ‡∏≤‡∏°‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥ */
        flex-shrink: 0;
    }

    /* ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô: ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ñ‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î Font */
    .cal-day { font-size: 1rem; }
    .full-calendar { padding: 15px; }
}

@media (max-width: 768px) {
    /* Header Stack */
    .sched-header-responsive {
        flex-direction: column;
        align-items: stretch;
        text-align: center;
        padding: 15px;
    }

    .sched-date-control {
        justify-content: space-between;
        width: 100%;
    }

    .sched-current-date {
        min-width: auto;
        font-size: 1rem;
    }

    /* Buttons Always Visible on Touch */
    .sched-edit-btn, .sched-del-btn {
        opacity: 1 !important; /* ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÇ‡∏ä‡∏ß‡πå‡∏ï‡∏•‡∏≠‡∏î */
        width: 36px;
        height: 36px;
        top: 10px; /* ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏°‡∏∏‡∏°‡∏ö‡∏ô */
        transform: none;
        background: #fff;
        box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
    }

    .sched-del-btn { right: 10px; }
    .sched-edit-btn { right: 55px; }

    .sched-title {
        font-size: 1rem;
        margin-top: 15px; /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏° */
        padding-right: 0;
    }

    .sched-block-body { padding: 10px; }

    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ Scroll ‡∏™‡∏ö‡∏≤‡∏¢ */
    .sched-timeline-area { padding-bottom: 80px; }
}
